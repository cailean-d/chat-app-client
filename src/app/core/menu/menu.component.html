<nav class="menu">
  <ul class="items">
    <li class="avatar __link">
      <div class="image" title="{{ 'hint.profile' | translate }}">
        <div class="img-outer">
          <img [src]="profile.user.avatar" alt="avatar" draggable="false" routerLink="/app/profile" />
        </div>
        <!-- <div class="status">
          <span>
              <i class="fa fa-circle online"></i>
          </span>
        </div> -->
      </div>
    </li>

    <li class="link __link __search" routerLink="/app/search" routerLinkActive="link-active" title="{{ 'hint.search' | translate }}" (click)="changeSearchTitle()">
      <i class="fa fa-search"></i>
    </li>
    <li class="link __link" routerLink="/app/friends" routerLinkActive="link-active" title="{{ 'hint.friends' | translate }}" (click)="changeFriendsTitle()">
      <i class="fa fa-users"></i>
      <div class="counter" *ngIf="invitesCount > 0">
        <span>
            {{invitesCount}}
        </span>
      </div>
      <!-- <div class="pulse">
        <span class="p"></span>
      </div> -->
    </li>
    <li class="link __link" routerLink="/app/favorite" routerLinkActive="link-active" title="{{ 'hint.favorite' | translate }}" (click)="changeFavoriteTitle()">
      <i class="fa fa-star"></i>
    </li>
    <li class="link __link __message" routerLink="/app/messages" routerLinkActive="link-active" title="{{ 'hint.chats' | translate }}" (click)="changeChatsTitle()">
      <i class="fas fa-comments"></i>
      <div class="counter" *ngIf="chatsCount > 0">
        <span>
            {{chatsCount}}
        </span>
      </div>
    </li>
    <li class="link __link" routerLink="/app/settings" routerLinkActive="link-active" title="{{ 'hint.settings' | translate }}" (click)="changeSettingsTitle()">
      <i class="fa fa-cog"></i>
    </li>
    <div class="active-block"></div>
  </ul>
  <div class="misc">
    <div class="notification" [class.notif-show]="showNotif" (click)="toggleNotification()">
        <i class="fa fa-bell" title="{{ 'hint.notification' | translate }}"></i>
        <div class="counter" *ngIf="notifCount && notifCount > 0">
          <span>
              {{notifCount}}
          </span>
        </div>
        <div class="notification-list">
          <div>
            <div *ngIf="notification.notifications.length > 0; else noNotif">
              <li class="friend" *ngFor="let notif of notification.notifications; let i = index">
                <!-- <div class="image">
                  <img src="{{friend.avatar}}" alt="avatar" draggable="false"/>
                </div> -->
                <div class="about">
                  <div class="description">
                    {{ notif.message }}
                  </div>
                  <div class="date">
                    {{ notif.date | mydate }}
                  </div>
                  <div class="right" appStopBubbling>
                    <div class="item refuse" title="Скрыть уведомление" (click)="notification.delete(i)">
                        <i class="fa fa-times"></i>
                    </div>
                  </div>
                </div>
              </li>
            </div>
            <ng-template #noNotif>
              <li class="notification">
                Список пуст
              </li>
            </ng-template>
          </div>
        </div>

    </div>
    <div class="language" title="{{ 'hint.lang' | translate }}" [ngClass]="{'lang-show': showLanguage}" (click)="toggleLanguageVisibility()">
        <i class="fa fa-language"></i>
        <div class="language-list">
          <div class="lang" (click)="changeLangToRus()">
            <img src="/assets/images/flags/ru.png" alt="">
          </div>
          <div class="lang" (click)="changeLangToEn()">
            <img src="/assets/images/flags/en.png" alt="">
          </div>
        </div>
    </div>
    <div class="logout" routerLink="/auth/login" (click)="logout()" title="{{ 'hint.exit' | translate }}">
      <i class="fas fa-sign-out-alt"></i>
    </div>
  </div>
</nav>
